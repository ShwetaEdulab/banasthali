<nb-card>
  <nb-card-body>
    <div class="titleWrap">
      <label>Institute Management</label>
    </div>
    <p-tabView (onChange)="getInstituteManagement($event)">
      <p-tabPanel header="Registration Request">
        <h2>Registration Request</h2>
        <div class="row">
          <div class="col-md-12 ">
            <mat-form-field class="example-full-width">
              <input matInput type="text" [value]="filterText" [placeholder]="filterPlaceholder"
                [formControl]="filterInput" />
            </mat-form-field>
          </div>
        </div>
        <div class="wrapper">
          <h5><b>Total Count:</b></h5>{{institute?.length}}
          <div class="Rtable Rtable--5cols Rtable--collapse">
            <div class="Rtable-row Rtable-row--head">
              <div class="Rtable-cell date-cell column-heading">Date of application</div>
              <div class="Rtable-cell topic-cell column-heading">Institute name</div>
              <div class="Rtable-cell date-cell column-heading">Email address</div>
              <div class="Rtable-cell date-cell column-heading">Microsite</div>
              <div class="Rtable-cell date-cell column-heading">Type</div>
              <div class="Rtable-cell date-cell column-heading">Contact number</div>
              <div class="Rtable-cell date-cell column-heading">Action</div>
            </div>

            <div class="Rtable-row is-striped"
              *ngFor="let application of institute | filter:{name: filterText, email: filterText, date: filterText,microsite: filterText,type: filterText,phone: filterText} | paginate: { itemsPerPage: 10, currentPage: p }">
              <div class="Rtable-cell date-cell">
                <div class="Rtable-cell--heading">Date of application</div>
                <div class="Rtable-cell--content date-content">{{application?.date}}</div>
              </div>
              <div class="Rtable-cell topic-cell">
                <div class="Rtable-cell--content title-content">{{application?.name}}</div>
              </div>
              <div class="Rtable-cell date-cell">
                <div class="Rtable-cell--heading">Email address</div>
                <div class="Rtable-cell--content date-content">{{application?.email}}</div>
              </div>
              <div class="Rtable-cell date-cell">
                <div class="Rtable-cell--heading">Microsite</div>
                <div class="Rtable-cell--content date-content">{{application?.microsite}}</div>
              </div>
              <div class="Rtable-cell date-cell">
                <div class="Rtable-cell--heading">Type</div>
                <div class="Rtable-cell--content date-content">{{application?.type}}</div>
              </div>
              <div class="Rtable-cell date-cell">
                <div class="Rtable-cell--heading">Contact number</div>
                <div class="Rtable-cell--content date-content">{{application?.phone}}</div>
              </div>
              <div class="Rtable-cell date-cell">
                <div class="Rtable-cell--heading">Action</div>
                <div class="Rtable-cell--content date-content">
                  <i class="fa ion-person" id='view{{data.id}}' status="danger" nbPopover="View More"
                    nbPopoverMode="hover" (click)="viewMore(data?.id);"></i>
                  <i class="fa ion-checkmark" id='acceptbutton{{data.id}}' nbPopover="Accept" nbPopoverMode="hover"
                    (click)="acceptApplication();"></i>
                  <i class="fa ion-close-round" id='rejectbutton{{data.id}}' nbPopover="Reject" nbPopoverMode="hover"
                    (click)="rejectApplication();"></i>
                </div>
              </div>
            </div>
          </div>
        </div>
        <pagination-controls (pageChange)="p = $event"></pagination-controls>
      </p-tabPanel>
      <p-tabPanel header="Institute">
        <h2>Institute Details</h2>
        <div class="row">
          <div class="col-md-12 ">
            <mat-form-field class="example-full-width">
              <input matInput type="text" [value]="filterText" [placeholder]="filterPlaceholder"
                [formControl]="filterInput" />
            </mat-form-field>
          </div>
        </div>
        <div class="wrapper">
          <h5><b>Total Count:</b></h5>{{instituteData?.length}}
          <div class="Rtable Rtable--5cols Rtable--collapse">
            <div class="Rtable-row Rtable-row--head">
              <div class="Rtable-cell  date-cell column-heading">Registration Date</div>
              <div class="Rtable-cell topic-cell column-heading">Institute name</div>
              <div class="Rtable-cell date-cell column-heading">Email address</div>
              <div class="Rtable-cell date-cell column-heading">Contact Number</div>
              <div class="Rtable-cell date-cell column-heading">Action</div>
            </div>

            <div class="Rtable-row is-striped"
              *ngFor="let application of instituteData  | paginate: { itemsPerPage: 10, currentPage: p } ">
              <div class="Rtable-cell date-cell">
                <div class="Rtable-cell--heading">Registration Date</div>
                <div class="Rtable-cell--content date-content">{{application?.date}}</div>
              </div>
              <div class="Rtable-cell  topic-cell">
                <div class="Rtable-cell--content title-content">{{application?.name}}</div>
              </div>
              <div class="Rtable-cell date-cell">
                <div class="Rtable-cell--heading">Email address</div>
                <div class="Rtable-cell--content date-content">{{application?.email}}</div>
              </div>
              <div class="Rtable-cell date-cell">
                <div class="Rtable-cell--heading">Contact Number</div>
                <div class="Rtable-cell--content date-content">{{application?.phone}}</div>
              </div>
              <div class="Rtable-cell date-cell">
                <div class="Rtable-cell--heading">Action</div>
                <div class="Rtable-cell--content date-content ">
                  <i class="fa ion-person wrapper" id='view{{application.id}}' status="danger" nbPopover="View More"
                    nbPopoverMode="hover" (click)="viewMore(data?.id);"></i>{{application.id}}
                  <button nbButton outline size="small" status="danger" *ngIf="application.active == 'active'"
                    (click)="college_status('inactive',application.id);">inactive</button>
                  <button nbButton outline size="small" status="success" *ngIf="application.active == 'inactive'"
                    (click)="college_status('active',application.id);">active</button>
                </div>
              </div>

            </div>

          </div>
        </div>
        <pagination-controls (pageChange)="p = $event"></pagination-controls>
      </p-tabPanel>
      <p-tabPanel header="Authorised Person Details">
        <h2>Authorised Person Details</h2>
        <div class="row">
          <div class="col-md-12 ">
            <mat-form-field class="example-full-width">
              <input matInput type="text" [value]="filterText" [placeholder]="filterPlaceholder"
                [formControl]="filterInput" />
            </mat-form-field>
          </div>
        </div>
        <div class="wrapper">
          <h5><b>College count:</b></h5>{{authDetails?.length}}
          <div class="Rtable Rtable--5cols Rtable--collapse">
            <div class="Rtable-row Rtable-row--head">
              <div class="Rtable-cell topic-cell column-heading">College Name</div>
              <div class="Rtable-cell date-cell column-heading">Authorised Person Name</div>
              <div class="Rtable-cell date-cell column-heading">Authorised Person Email Address</div>
              <div class="Rtable-cell date-cell column-heading">Authorised Person Landline Number</div>
              <div class="Rtable-cell date-cell column-heading">Authorised Person Mobile Number</div>
            </div>

            <div class="Rtable-row is-striped"
              *ngFor="let application of authDetails | filter:{college_name: filterText} | paginate: { itemsPerPage: 10, currentPage: p }">
              <div class="Rtable-cell topic-cell">
                <div class="Rtable-cell--content date-content">{{application?.college_name}}</div>
              </div>
              <div class="Rtable-cell date-cell">
                <div class="Rtable-cell--heading">Authorised Person Name</div>
                <div class="Rtable-cell--content title-content">{{application?.auth_name}}</div>
              </div>
              <div class="Rtable-cell date-cell">
                <div class="Rtable-cell--heading">Authorised Person Email Address</div>
                <div class="Rtable-cell--content date-content">{{application?.auth_email}}</div>
              </div>
              <div class="Rtable-cell date-cell">
                <div class="Rtable-cell--heading">Authorised Person Landline Number</div>
                <div class="Rtable-cell--content date-content">{{application?.auth_landline}}</div>
              </div>
              <div class="Rtable-cell date-cell">
                <div class="Rtable-cell--heading">Authorised Person Mobile Number</div>
                <div class="Rtable-cell--content date-content">{{application?.auth_mobile}}</div>
              </div>
            </div>
          </div>
        </div>
        <pagination-controls (pageChange)="p = $event"></pagination-controls>
      </p-tabPanel>
      <p-tabPanel header="Course Details">
        <h2>Course Active-Inactive</h2>
        <div class="row">
          <div class="col-md-12 ">
            <mat-form-field class="example-full-width">
              <mat-select placeholder="Select College" [(ngModel)]="selectedValue"
                (ngModelChange)="getCourse(selectedValue)">
                <mat-option *ngFor="let data of colleges" [value]="data.name">{{data.name}}</mat-option>
              </mat-select>
            </mat-form-field>
          </div>
        </div>
        <div class="wrapper">
          <h5><b>Course count:</b></h5>{{courses?.length}}
          <div class="Rtable Rtable--5cols Rtable--collapse">
            <div class="Rtable-row Rtable-row--head">
              <div class="Rtable-cell topic-cell  column-heading">Course Name</div>
              <div class="Rtable-cell date-cell column-heading">Specialization</div>
              <div class="Rtable-cell date-cell column-heading">Intake Seats</div>
              <div class="Rtable-cell date-cell column-heading">Status</div>
              <div class="Rtable-cell date-cell column-heading">Action</div>
            </div>

            <div class="Rtable-row is-striped"
              *ngFor="let course of courses  | paginate: { itemsPerPage: 10, currentPage: p } ">
              <div class="Rtable-cell topic-cell">
                <div class="Rtable-cell--content title-content">{{course?.name}}</div>
              </div>
              <div class="Rtable-cell  date-cell">
                <div class="Rtable-cell--heading">Specialization</div>
                <div class="Rtable-cell--content date-content">{{course?.specialization}}</div>
              </div>
              <div class="Rtable-cell date-cell">
                <div class="Rtable-cell--heading">Intake Seats</div>
                <div class="Rtable-cell--content date-content">{{course?.fix_seats}}</div>
              </div>
              <div class="Rtable-cell date-cell">
                <div class="Rtable-cell--heading">Status</div>
                <div class="Rtable-cell--content date-content">{{course?.status}}</div>
              </div>
              <div class="Rtable-cell date-cell">
                <div class="Rtable-cell--heading">Action</div>
                <div class="Rtable-cell--content date-content">
                  <button nbButton outline size="small" status="danger" *ngIf="course.status == 'active'"
                    (click)="course_status('inactive',course.id);">inactive</button>
                  <button nbButton outline size="small" status="success" *ngIf="course.status == 'inactive'"
                    (click)="course_status('active',course.id);">active</button>
                </div>
              </div>
            </div>
          </div>
        </div>
        <pagination-controls (pageChange)="p = $event"></pagination-controls>
      </p-tabPanel>
    </p-tabView>
  </nb-card-body>
</nb-card>
